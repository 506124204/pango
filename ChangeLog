2005-03-01  Owen Taylor  <otaylor@redhat.com>
 
	* configure.in: Use PKG_CHECK_MODULES not AM_PATH_GLIB_2_0
	to avoid a problem where older verisons of AM_PATH_GLIB_2_0
	silently ignored gmodule-no-export causing mysterious
	build failures. (#161786)

	* pango/Makefile.am (DISTCLEANFILES): Move some 
	configure.in output files from CLEANFILES to DISTCLEANFILES.

2005-03-01  Tor Lillqvist  <tml@novell.com>

	* tests/cxx-test.C: Include pangowin32.h first to avoid
	a namespace collision. (#163584)

Fri Feb 25 12:14:24 2005  Manish Singh  <yosh@gimp.org>

	* pango/pangofc-font.c (pango_fc_font_class_init): map get_font_map
	to the right function.

	* pango/pangox.c (pango_x_font_class_init): fill in get_font_map.

2005-02-24  Owen Taylor  <otaylor@redhat.com>

	* pango/pangocairo-win32.h pango/pangocairo-win32font.c 
	pango/pangocairo-win32fontmap.c	pango/Makefile.am:
	PangoCairoFontMap for win32 fonts.

	* pango/pangocairo-fontmap.c: Use PangoCairoWin32FontMap
	when available.

	* pango/pangowin32.h pango/pangowin32-fontmap.h pango/pangowin32.c: 
	Add virtual pango_win32_font_select_font()
	to prepare a DC for use with a PangoWin32Font, and to release,
	pango_win32_font_scale_font() to get logical unit => Pango units scale,
	pango_win32_font_done_font() to release resources.

	* pango/pangowin32-fontmap.[ch]: Add a find_font() virtual method
	to allow subclasses that change how PangoFont lookup and
	creation happens.

	* pango/pangowin32-fontmap.c: Move initialization into 
	pango_win32_font_map_init() to facilitate derivation.
	
	* pango/pangowin2.c pango/pangowin32-fontmap.c 
	pango/pangowin32-private.h: Move PangoWin32Font/PangoWin32FontMap 
	definitions into pangowin32-private.h to allow derivation for 
	PangoCairoWin32Font.

	* modules/basic/basic-win32.c: Use pango_win32_font_select_font()
	and friends.

	* modules/basic/basic-win32.c: Use g_utf8_to_utf16 instead
	of g_convert for simplicity and speed.

	* pango/fonts.c (pango_font_get_font_map) pango/pango-font.h
	pango/pangofc-font.c pango/pangowin32.c pango/pango.c pango/pango.def
	docs/pango-sections.txt: Add a virtual function to get the fontmap 
	for a font.

	* pango/pangocairo-render.c: Use pango_font_get_font_map()
	rather than PangoFcFontMap hack.

	* pango/pango-types.h: Move the declaration of PangoFontMap here
	to avoid interactions between pango-font.h and pango-fontmap.h.

	* pango/pangocairo.h: Remove accidental include 
	of pangofc-fontmap.h.

2005-02-21  Owen Taylor  <otaylor@redhat.com>
 
 	* pango/fonts.c (pango_font_get_glyph_extents): 
 	* pango/shape.c (pango_shape): Minor doc fixes.
 	(#167922, #167924, Billy Biggs)
 
2005-02-06  Owen Taylor  <otaylor@redhat.com>

	* pango/pangocairo.h pango/pangocairo-render.c docs/pango-sections.txt:
	Rename pango_cairo_show_glyphs() to pango_cairo_show_glyph_string().
	Add pango_cairo_{glyph_string,layout_line,layout}_path()

	* docs/Makefile.am (INCLUDES): Add CAIRO_CFLAGS.

2005-02-06  Hans Breuer  <hans@breuer.org>

	* pango/makefile.msc pango/*.def pango/pangocairo.def : updated to
	build with the new Cairo dependency
	* pango/Makefile.am : added pangocairo.def to EXTRA_DIST

Thu Feb  3 19:00:17 2005  Manish Singh  <yosh@gimp.org>

	* pango/pangocairo-fc.h: spell _pango_cairo_fc_get_render_key
	correctly.

	* pango/pangocairo-fcfont.c: #include cairo-ft.h

Thu Feb  3 18:23:27 2005  Manish Singh  <yosh@gimp.org>

	* configure.in: use CAIRO_LIBS for all libcairo checks, and disable
	the cairo backend if we don't have Win32 nor FreeType support in
	cairo.

2005-02-03  Owen Taylor  <otaylor@redhat.com>

	* pango/pangofc-font.c (pango_fc_font_real_get_glyph): Fix unpaired
	lock/unlock_face().

2005-02-03  Owen Taylor  <otaylor@redhat.com>

	* configure.in: Bump to 1.9.0.

	* pango/pangofc-fontmap.h: Document PangoFcFontMap.create_font()

2005-02-03  Owen Taylor  <otaylor@redhat.com>

	* examples/cairosimple.c: Open the file with mode "wb", include
	cairo-png.h. 

	* examples/xftview.c examples/cairoview.c: Set WM_NORMAL_HINTS to avoid 
	triggering a metacity bug.

	* examples/cairoview.c: Include cairo-xlib.h.

	* configure.in: Add checks for the Win32 Cairo backend. (not committing
	the code yet).

	* examples/Makefile.am pango/Makefile.am: add CAIRO_CFLAGS.

	* pango/pangocairo-fc.h pango/pangocairo-fcfont.c
	pango/pangocairo-fcfontmap.c pango/pangofc-fontmap.[ch]: Rework
	Cairo/Fontconfig backend to use the current Cairo API. Make
	some PangoFcFontMap changes to enable that.

	* pango/pango/pangocairo-private.h pango/pangocairo-render.c:
	Update for cairo_font_t changes.

2005-01-31  Matthias Clasen  <mclasen@redhat.com>

	* modules/hebrew/hebrew-fc.c (get_cluster_glyphs): Show
	unknown glyphs; this may lead to overlapping boxes when
	accents are involved, but it is better than text vanishing
	without any traces.

2005-01-29  Tor Lillqvist  <tml@novell.com>

	* pango/pango.def: Add missing pango_render_part_get_type. 
	(#165287, Cedric Gustin)

2005-01-25  Tor Lillqvist  <tml@novell.com>

	* pango/pango.def: Add a missing entry point.

	* modules/basic/Makefile.am (usp10.h): Don't use -p option to cp,
	can cause "failed to preserve ownership" errors.

	* modules/*/Makefile.am (INCLUDES): Remove extraneous slash here,
	too.

2005-01-11  Owen Taylor  <otaylor@redhat.com>

	* modules/basic/Makefile.am (INCLUDES): Remove an extraneous
	/ that was confusing gcc on Win32.

2005-01-10  Owen Taylor  <otaylor@redhat.com>
 
 	* Makefile.am (EXTRA_DIST): Add missing ChangeLog.pre*
 
Sat Jan  8 19:28:17 2005  Owen Taylor  <otaylor@redhat.com>

	* Makefile.am configure.in pangocairo.pc.in 
	pangocairo-uninstalled.pc.in: Add a .pc file for
	pangocairo.

2005-01-08  Matthias Clasen  <mclasen@redhat.com>

	* pango.pc.in: Require gmodule-no-export-2.0 instead
	of gmodule-2.0

Sat Jan  8 16:46:37 2005  Owen Taylor  <otaylor@redhat.com>

	* configure.in: Add checks for Cairo

	* pango/Makefile.am: Add libpangocairo.

	* pango/pangocairo-font.c pango/pangocairo-fontmap.c
	pango/pangocairo.h pango/pangocairo-private.h 
	pango/pangocairo-fcfont.c pango/pangocairo-fcfontmap.c
	pango/pangocairo-fc.h: Start of a Cairo/FreeType backend.

	* pango/pangofc-fontmap.[ch]: Add a "get_render_key" 
	virtual function to allow subclasses to specialize the
	details of how caching works. Add a default implementation
	that's a little more sophisticated than what was there
	before.

	* pango/pangoft2-private.h pangofc-font.c pangoft2.c:
	Move default implementations of has_char(), get_glyph()
	to the base class.

	* pango/pangofc-private.h pango/pangoft2-private.h:
	Move PANGO_UNITS_26_6 and friends to pango/pangofc-private.h.

	* examples/renderdemo.[ch] examples/pangoft2topgm.c 
	examples/xftview.c: Allow passing in a custom function
	to transform drawing.

	* examples/Makefile.am examples/cairoview.c: Add a
	Cairo/Xlib example program.

	* examples/cairosimple.c: Simple Cairo example with
	output to a PNG.

	* pango/pango-layout.c (pango_layout_line_get_extents): Fix
	bug where line ink rect was always including 0, 0.

Thu Jan  6 12:29:31 2005  Owen Taylor  <otaylor@redhat.com>

	* pango/pango-attributes.c (pango_attr_iterator_get_font): 
	Fix reversed test on attr->absolute that was causing 
	pixels sizes to be used inappropriately. (#163105, 
	Ross Burton)

Tue Jan  4 14:14:28 2005  Owen Taylor  <otaylor@redhat.com>

	* pango/break.c (enum): Fix trailing comma in enum (#162618)

Tue Jan  4 14:11:43 2005  Owen Taylor  <otaylor@redhat.com>

	* pango/pango-attributes.c (pango_attr_list_splice): Fix
	doc sentences to parse. (#161812, Morten Welinder)

Tue Jan  4 14:05:13 2005  Owen Taylor  <otaylor@redhat.com>

	* pango/pango-renderer.c (pango_renderer_draw_trapezoid): Rename
	y1 parameters to y1_ to avoid conflicts with the math.h Bessel
	function. (#161969)

Fri Dec 31 10:20:55 2004  Owen Taylor  <otaylor@redhat.com>

	* pango/pangofc-fontmap.c (pango_fc_convert_weight_to_pango): 
	Fix problem where MEDIUM was getting grouped with SEMIBOLD
	rather than NORMAL. 
	(http://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=143832)

Wed Dec 22 13:21:01 2004  Owen Taylor  <otaylor@redhat.com>

	* pango/pango-script.c pango/pango-types.h: Fix a couple
	of documentation typos (#161647, Torsten Schoenfeld)

2004-12-18  Tor Lillqvist  <tml@iki.fi>

	* pango/pangowin32-private.h
	* pango/pangowin32.c (pango_win32_font_get_metrics): Cache metrics
	by language, like the other backends do. Don't try to get the
	width of the 0..9 digit string if the font doesn't cover digits.

2004-12-17  Tor Lillqvist  <tml@iki.fi>

	* pango/Makefile.am: Make the .la files depend on the
	corresponding .def files.

	* pango/pango.def: Add a couple of missing functions.

Fri Dec 17 14:37:49 2004  Owen Taylor  <otaylor@redhat.com>

	* pango/pangofc-fontmap.c (pango_fc_convert_weight_to_fc): Use
	FC_WEIGHT_MEDIUM, not FC_WEIGHT_NORMAL in old-fontconfig
	case. (#161568, Vincent Noel)

Fri Dec 17 12:44:10 2004  Owen Taylor  <otaylor@redhat.com>

	* configure.in: Fix a couple of typos in the handling of
	tibetan for --with-included-modules. (#161501, Sebastien Bacher)

Fri Dec 17 12:28:56 2004  Owen Taylor  <otaylor@redhat.com>

	* pango/pango-layout.c (pango_layout_get_extents_internal): Fix 
	bug in computing logical_rect.x when layout->width == -1.
	(#161510, Morten Welinder)

Thu Dec 16 14:03:32 2004  Owen Taylor  <otaylor@redhat.com>

	* docs/tmpl/pango-renderer.sgml: Add short and long descriptions.

